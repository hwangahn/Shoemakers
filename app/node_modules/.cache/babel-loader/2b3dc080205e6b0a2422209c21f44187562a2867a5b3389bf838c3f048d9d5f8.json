{"ast":null,"code":"var req = exports = module.exports = {};\n\n/**\n * Initiate a login session for `user`.\n *\n * Options:\n *   - `session`  Save login state in session, defaults to _true_\n *\n * Examples:\n *\n *     req.logIn(user, { session: false });\n *\n *     req.logIn(user, function(err) {\n *       if (err) { throw err; }\n *       // session saved\n *     });\n *\n * @param {User} user\n * @param {Object} options\n * @param {Function} done\n * @api public\n */\nreq.login = req.logIn = function (user, options, done) {\n  if (typeof options == 'function') {\n    done = options;\n    options = {};\n  }\n  options = options || {};\n  var property = this._userProperty || 'user';\n  var session = options.session === undefined ? true : options.session;\n  this[property] = user;\n  if (session && this._sessionManager) {\n    if (typeof done != 'function') {\n      throw new Error('req#login requires a callback function');\n    }\n    var self = this;\n    this._sessionManager.logIn(this, user, options, function (err) {\n      if (err) {\n        self[property] = null;\n        return done(err);\n      }\n      done();\n    });\n  } else {\n    done && done();\n  }\n};\n\n/**\n * Terminate an existing login session.\n *\n * @api public\n */\nreq.logout = req.logOut = function (options, done) {\n  if (typeof options == 'function') {\n    done = options;\n    options = {};\n  }\n  options = options || {};\n  var property = this._userProperty || 'user';\n  this[property] = null;\n  if (this._sessionManager) {\n    if (typeof done != 'function') {\n      throw new Error('req#logout requires a callback function');\n    }\n    this._sessionManager.logOut(this, options, done);\n  } else {\n    done && done();\n  }\n};\n\n/**\n * Test if request is authenticated.\n *\n * @return {Boolean}\n * @api public\n */\nreq.isAuthenticated = function () {\n  var property = this._userProperty || 'user';\n  return this[property] ? true : false;\n};\n\n/**\n * Test if request is unauthenticated.\n *\n * @return {Boolean}\n * @api public\n */\nreq.isUnauthenticated = function () {\n  return !this.isAuthenticated();\n};","map":{"version":3,"names":["req","exports","module","login","logIn","user","options","done","property","_userProperty","session","undefined","_sessionManager","Error","self","err","logout","logOut","isAuthenticated","isUnauthenticated"],"sources":["C:/Users/hoang/OneDrive/Documents/test/node_modules/passport/lib/http/request.js"],"sourcesContent":["var req = exports = module.exports = {};\n\n/**\n * Initiate a login session for `user`.\n *\n * Options:\n *   - `session`  Save login state in session, defaults to _true_\n *\n * Examples:\n *\n *     req.logIn(user, { session: false });\n *\n *     req.logIn(user, function(err) {\n *       if (err) { throw err; }\n *       // session saved\n *     });\n *\n * @param {User} user\n * @param {Object} options\n * @param {Function} done\n * @api public\n */\nreq.login =\nreq.logIn = function(user, options, done) {\n  if (typeof options == 'function') {\n    done = options;\n    options = {};\n  }\n  options = options || {};\n  \n  var property = this._userProperty || 'user';\n  var session = (options.session === undefined) ? true : options.session;\n  \n  this[property] = user;\n  if (session && this._sessionManager) {\n    if (typeof done != 'function') { throw new Error('req#login requires a callback function'); }\n    \n    var self = this;\n    this._sessionManager.logIn(this, user, options, function(err) {\n      if (err) { self[property] = null; return done(err); }\n      done();\n    });\n  } else {\n    done && done();\n  }\n};\n\n/**\n * Terminate an existing login session.\n *\n * @api public\n */\nreq.logout =\nreq.logOut = function(options, done) {\n  if (typeof options == 'function') {\n    done = options;\n    options = {};\n  }\n  options = options || {};\n  \n  var property = this._userProperty || 'user';\n  \n  this[property] = null;\n  if (this._sessionManager) {\n    if (typeof done != 'function') { throw new Error('req#logout requires a callback function'); }\n    \n    this._sessionManager.logOut(this, options, done);\n  } else {\n    done && done();\n  }\n};\n\n/**\n * Test if request is authenticated.\n *\n * @return {Boolean}\n * @api public\n */\nreq.isAuthenticated = function() {\n  var property = this._userProperty || 'user';\n  return (this[property]) ? true : false;\n};\n\n/**\n * Test if request is unauthenticated.\n *\n * @return {Boolean}\n * @api public\n */\nreq.isUnauthenticated = function() {\n  return !this.isAuthenticated();\n};\n"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,GAAGC,MAAM,CAACD,OAAO,GAAG,CAAC,CAAC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,GAAG,CAACG,KAAK,GACTH,GAAG,CAACI,KAAK,GAAG,UAASC,IAAI,EAAEC,OAAO,EAAEC,IAAI,EAAE;EACxC,IAAI,OAAOD,OAAO,IAAI,UAAU,EAAE;IAChCC,IAAI,GAAGD,OAAO;IACdA,OAAO,GAAG,CAAC,CAAC;EACd;EACAA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EAEvB,IAAIE,QAAQ,GAAG,IAAI,CAACC,aAAa,IAAI,MAAM;EAC3C,IAAIC,OAAO,GAAIJ,OAAO,CAACI,OAAO,KAAKC,SAAS,GAAI,IAAI,GAAGL,OAAO,CAACI,OAAO;EAEtE,IAAI,CAACF,QAAQ,CAAC,GAAGH,IAAI;EACrB,IAAIK,OAAO,IAAI,IAAI,CAACE,eAAe,EAAE;IACnC,IAAI,OAAOL,IAAI,IAAI,UAAU,EAAE;MAAE,MAAM,IAAIM,KAAK,CAAC,wCAAwC,CAAC;IAAE;IAE5F,IAAIC,IAAI,GAAG,IAAI;IACf,IAAI,CAACF,eAAe,CAACR,KAAK,CAAC,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAE,UAASS,GAAG,EAAE;MAC5D,IAAIA,GAAG,EAAE;QAAED,IAAI,CAACN,QAAQ,CAAC,GAAG,IAAI;QAAE,OAAOD,IAAI,CAACQ,GAAG,CAAC;MAAE;MACpDR,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC,MAAM;IACLA,IAAI,IAAIA,IAAI,EAAE;EAChB;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACAP,GAAG,CAACgB,MAAM,GACVhB,GAAG,CAACiB,MAAM,GAAG,UAASX,OAAO,EAAEC,IAAI,EAAE;EACnC,IAAI,OAAOD,OAAO,IAAI,UAAU,EAAE;IAChCC,IAAI,GAAGD,OAAO;IACdA,OAAO,GAAG,CAAC,CAAC;EACd;EACAA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EAEvB,IAAIE,QAAQ,GAAG,IAAI,CAACC,aAAa,IAAI,MAAM;EAE3C,IAAI,CAACD,QAAQ,CAAC,GAAG,IAAI;EACrB,IAAI,IAAI,CAACI,eAAe,EAAE;IACxB,IAAI,OAAOL,IAAI,IAAI,UAAU,EAAE;MAAE,MAAM,IAAIM,KAAK,CAAC,yCAAyC,CAAC;IAAE;IAE7F,IAAI,CAACD,eAAe,CAACK,MAAM,CAAC,IAAI,EAAEX,OAAO,EAAEC,IAAI,CAAC;EAClD,CAAC,MAAM;IACLA,IAAI,IAAIA,IAAI,EAAE;EAChB;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACAP,GAAG,CAACkB,eAAe,GAAG,YAAW;EAC/B,IAAIV,QAAQ,GAAG,IAAI,CAACC,aAAa,IAAI,MAAM;EAC3C,OAAQ,IAAI,CAACD,QAAQ,CAAC,GAAI,IAAI,GAAG,KAAK;AACxC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACAR,GAAG,CAACmB,iBAAiB,GAAG,YAAW;EACjC,OAAO,CAAC,IAAI,CAACD,eAAe,EAAE;AAChC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}